{"mappings":"AAAA,IAAIA,EAAeC,SAASC,cAAc,mBACtCC,EAAQF,SAASC,cAAc,kBAC/BE,EAASH,SAASC,cAAc,sBAChCG,EAAaJ,SAASC,cAAc,iBACpCI,EAAeL,SAASC,cAAc,kBACtCK,EAAQN,SAASC,cAAc,iBAGnC,MAAMM,EAAY,GAElBP,SAASQ,iBAAiB,oBAAoB,YAI9CC,iBACI,IAEI,IAAIC,EAAI,EACR,KAAOA,EAAI,IAAI,CACX,IAAIC,QAAiBC,MAAM,sDAEvBC,QAAaF,EAASG,OAE1BP,EAAUQ,KAAKF,EAAKG,MAAM,IAC1BN,G,EAUZ,SAAsBO,GAClB,IAAIC,EAAgB,GAEpB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAUG,OAAQD,IAClCD,GAAiB,+DAYxBD,EAAAE,GAAAE,sBAAAJ,EAAAE,GAAAG,wIAIYL,EAAiBE,GAAAG,2DACPL,EAAAE,GAAAI,gJAErBN,EAAAE,GAAAK,gF,EAI2BC,UAAOP,C,CAlC5BQ,CAAanB,E,CAEf,MAAOoB,GACLC,QAAQC,IAAIF,EAAMG,Q,EAnBtBC,E,MAsDgBvB,iBAAA,SAAAwB,I,oCAKnB,IACD,IAAArB,QAAkBC,MAAA,wDAAAV,EAAA+B,SAClBL,QAASC,IAAAlB,G,SAqBWuB,G,IACZhB,EAAA,G,EACHO,UAAA,G,opBArBDU,QADoBxB,EAAGG,QACDE,M,CACtB,MAAAW,GACAtB,EAAYoB,UAAiB,uBAC7BtB,EAAsBsB,UAAA,E,GAYpBW,O,GAtBS","sources":["src/home_page/js/index.js"],"sourcesContent":["let searchButton = document.querySelector('.search__button');\r\nlet input = document.querySelector('.search__input');\r\nlet result = document.querySelector('.result__container');\r\nlet searchForm = document.querySelector('.search__form')\r\nlet errorMessage = document.querySelector('.error_message');\r\nlet arrow = document.querySelector('.hidden_arrow');\r\nlet API_ID = \"9469ba72\";\r\nlet API_KEY = \"4313c2c37d93452e3b4523bb962f8253\";\r\nconst randomArr = [];\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    getRandom();\r\n});\r\n//запрос для вывода рандомных рецептов\r\nasync function getRandom() {\r\n    try {\r\n        // цикл\r\n        let i = 0;\r\n        while (i < 15) {\r\n            let response = await fetch(`https://www.themealdb.com/api/json/v1/1/random.php`)\r\n          //  console.log(response)\r\n            let data = await response.json();\r\n        //    console.log(data.meals[0]);\r\n            randomArr.push(data.meals[0]);\r\n            i++;\r\n        }\r\n     //   console.log(randomArr);\r\n        renderRandom(randomArr);\r\n\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n}\r\n// render рандомных рецептов\r\nfunction renderRandom(randomArr) {\r\n    let generatedHTML = '';\r\n    //result.innerHTML = '';\r\n    for (let r = 0; r < randomArr.length; r++)\r\n        generatedHTML += `\r\n        <div class=\"result__item\">\r\n            <img src=\"${randomArr[r].strMealThumb}\" alt=\"${randomArr[r].strMeal}\">\r\n            <div class=\"item__details\">\r\n                <div class=\"details\">\r\n                    <h2 class=\"item-name\">${randomArr[r].strMeal}</h2>\r\n                    <h3 class=\"item-area\">${randomArr[r].strArea}</h3>\r\n                </div>\r\n                <button class=\"view-button\" onclick=\"window.location.href ='recipe_page/recipe.html?id=${randomArr[r].idMeal}'\">View recipe</button>\r\n            </div>            \r\n        </div>`\r\n    result.innerHTML = generatedHTML;\r\n}\r\n//==\r\n\r\n// поиск рецептов по клику на search\r\nsearchButton.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    sendApiRequest();\r\n})\r\n\r\nasync function sendApiRequest() {\r\n    try {\r\n        let response = await fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${input.value}`)\r\n        console.log(response)\r\n        let data = await response.json();\r\n        generateHtml(data.meals);\r\n    } catch (error) {\r\n        errorMessage.innerHTML = `<p>Nothing found</p>`;\r\n        result.innerHTML = '';\r\n    }\r\n    searchForm.reset();\r\n}\r\n//render по поиску\r\nfunction generateHtml(results) {\r\n    let generatedHTML = '';\r\n    errorMessage.innerHTML = '';\r\n    // result.innerHTML = '';\r\n    arrow.style.display = \"none\";\r\n    results.map(result => {\r\n        generatedHTML += `\r\n        <div class=\"result__item\">\r\n            <img src=\"${result.strMealThumb}\" alt=\"${result.strMeal}\">\r\n            <div class=\"item__details\">\r\n                <div class=\"details\">\r\n                    <h2 class=\"item-name\">${result.strMeal}</h2>\r\n                    <h3 class=\"item-area\">${result.strArea}</h3>\r\n                </div>\r\n                <button class=\"view-button\" onclick=\"window.location.href ='recipe_page/recipe.html?id=${result.idMeal}'\">View recipe</button>\r\n            </div>            \r\n        </div>`\r\n    })\r\n    if (input.value == 0) {\r\n        errorMessage.innerHTML = `<p>Please, enter your search request</p>`\r\n    } else {\r\n        arrow.style.display = \"block\";\r\n        result.innerHTML = generatedHTML;\r\n    }\r\n}"],"names":["$efaeebbd3258c4cd$var$searchButton","document","querySelector","$efaeebbd3258c4cd$var$input","$efaeebbd3258c4cd$var$result","$efaeebbd3258c4cd$var$searchForm","$efaeebbd3258c4cd$var$errorMessage","$efaeebbd3258c4cd$var$arrow","$efaeebbd3258c4cd$var$randomArr","addEventListener","async","i","response","fetch","data","json","push","meals","randomArr","generatedHTML","r","length","strMealThumb","strMeal","strArea","idMeal","innerHTML","$efaeebbd3258c4cd$var$renderRandom","error","console","log","message","$efaeebbd3258c4cd$var$getRandom","e","value","results","$efaeebbd3258c4cd$var$generateHtml","reset"],"version":3,"file":"index.b4ccc77f.js.map"}