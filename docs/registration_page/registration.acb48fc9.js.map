{"mappings":"AAAA,MAEMA,EAAoB,gKAI1B,IAAIC,EAAQ,GAWZ,SAASC,EAAgBC,EAAOC,GAC5BC,SAASC,cAAcH,GAAOI,MAAMC,MAdrB,mBAefH,SAASC,cAAcF,GAAKK,UAnBP,iB,CAuBzB,SAASC,EAAaC,GAElB,GAAmB,KADFN,SAASC,cAAcK,GAAOC,MAE3C,OAAO,C,CAwCf,SAASC,EAAaV,EAAOW,GACzBT,SAASC,cAAcH,GAAOI,MAAMC,MA9DnB,yBA+DjBH,SAASC,cAAcQ,GAAOL,UAAY,E,CA1DvBJ,SAASC,cAAc,uBAC7BS,iBAAiB,UAAU,SAASC,GACjDA,EAAMC,iBAmBV,WACQP,EAAa,YACbR,EAAgB,WAAY,eAE5BQ,EAAa,YACbR,EAAgB,QAAS,eAEzBQ,EAAa,YACbR,EAAgB,SAAU,eAE1BQ,EAAa,YACbR,EAAgB,aAAc,eAE9BQ,EAAa,YACbR,EAAgB,aAAc,eAGlC,IAA2B,IAAvBgB,MAA0E,IAAzCC,EAAaC,EAAUC,KAAkE,IAAtCF,EAAaC,EAAUE,KAAkE,IAAzCH,EAAaI,EAAYC,KAA0E,IAAhDL,EAAaM,EAAeC,KAA8E,IAAhDP,EAAaM,EAAeE,KAAgD,IAkGrU,WAC8D,KAAtDtB,SAASC,cAAc,eAAesB,cACtCvB,SAASC,cAAc,eAAesB,YAAc,IAExD3B,EAAQ4B,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,MACzD,IAAIC,EAAY5B,SAASC,cAAc,WAAWM,MAClD,IAAK,IAAIsB,EAAI,EAAGA,EAAIjC,EAAMkC,OAAQD,IAC9B,GAAID,IAAchC,EAAMiC,GAAI,CACxB,IAAIE,EAAM/B,SAASgC,cAAc,OAIjC,OAHAhC,SAASC,cAAc,eAAegC,OAAOF,GAC7CA,EAAIR,YAAc,0CAClBQ,EAAI7B,MAAMC,MAzJH,oBA0JA,C,CAGf,OAAO,C,CAjHwS+B,GAA0B,CACrU,IAAIC,EAAWnC,SAASC,cAAc,WAAWM,MAC7CqB,EAAY5B,SAASC,cAAc,WAAWM,MAC9C6B,EAAepC,SAASC,cAAc,WAAWM,MACjD8B,EAAQb,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,MACxDW,EAAQd,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,MACzDY,EAAYf,KAAKC,MAAMC,aAAaC,QAAQ,kBAAoB,MACpEU,EAAMG,KAAKL,GACXG,EAAME,KAAKZ,GACXW,EAAUC,KAAKJ,GACfV,aAAae,QAAQ,YAAajB,KAAKkB,UAAUL,IACjDX,aAAae,QAAQ,aAAcjB,KAAKkB,UAAUJ,IAClDZ,aAAae,QAAQ,gBAAiBjB,KAAKkB,UAAUH,IACrDI,OAAOC,SAASC,KAAO,e,EAhD3BC,E,IA0DJ,MAAM/B,EAAQ,2BAEd,IAAIC,EAAehB,SAASC,cAAc,WAC1Ce,EAAaN,iBAAiB,SAAS,WACnCF,EAAa,WAAY,eACzBM,EAAaC,EAAUC,EAAc,WAAY,cA3E/B,kB,IA8EtB,IAAIC,EAAYjB,SAASC,cAAc,WACvCgB,EAAUP,iBAAiB,SAAS,WAChCF,EAAa,QAAS,eACtBM,EAAaC,EAAUE,EAAW,QAAS,cAjFzB,kB,IAoFtB,MAAMC,EAAU,kDAEhB,IAAIC,EAAanB,SAASC,cAAc,WACxCkB,EAAWT,iBAAiB,SAAS,WACjCF,EAAa,SAAU,eACvBM,EAAaI,EAAYC,EAAY,SAAU,cAzF7B,kB,IA4FtB,MAAMC,EAAa,kFAEnB,IAAIC,EAAiBrB,SAASC,cAAc,WAC5CoB,EAAeX,iBAAiB,SAAS,WACrCF,EAAa,aAAc,eAC3BM,EAAaM,EAAeC,EAAgB,aAAc,cAAe1B,E,IAG7E,IAAI2B,EAAiBtB,SAASC,cAAc,WAC5CqB,EAAeZ,iBAAiB,SAAS,WACrCF,EAAa,aAAc,eAC3BM,EAAaM,EAAeE,EAAgB,aAAc,cAAe3B,E,IAG7E2B,EAAeZ,iBAAiB,QAASG,GAEzC,MAAMkC,EAAmB,oCAEzB,IAAIC,EAAgBhD,SAASC,cAAc,aAC3C+C,EAActC,iBAAiB,SAAS,WACpCF,EAAa,qBAAsB,cACnCM,EAAaiC,EAAqBC,EAAe,qBAAsB,aA/GpD,6G,IAkHvB,IAAIC,EAAajD,SAASC,cAAc,WAOxC,SAASY,IACL,GAAIQ,EAAed,QAAUe,EAAef,MAKxC,OADAP,SAASC,cAAc,eAAeG,UAAY,IAC3C,EAJPJ,SAASC,cAAc,eAAeG,UAAY,yB,CAS1D,SAASU,EAAaoC,EAAOpD,EAAOqD,EAAYC,EAASC,GACrD,IAAgC,IAA5BH,EAAMI,KAAKxD,EAAMS,OAKjB,OAAO,EAJPP,SAASC,cAAckD,GAAYjD,MAAMC,MArI9B,mBAsIXH,SAASC,cAAcmD,GAAShD,UAAYiD,C,CApBpDJ,EAAWvC,iBAAiB,SAAS,WACjCF,EAAa,mBAAoB,cACjCM,EAAaiC,EAAqBE,EAAY,mBAAoB,aArH/C,6G","sources":["src/registration_page/js/registration.js"],"sourcesContent":["const IMPORTANTMESSAGE = \"Mandatory field\";\r\nconst INCORRECTLANG = \"Incorrect input\";\r\nconst INCORRECTPASSWORD = \"The password must contain English letters, numbers, different case and one of special (!^@%=<>+#_$&*) characters. The minimum password length is 8 characters\";\r\nconst QUESTION_REPLY = \"Please use latin or cyrillic symbols, numbers or special characters. The minimum number of characters is 5\";\r\nconst ERRORCOLOR = \"rgb(192, 17, 17)\";\r\nconst CORRECTCOLOR = \"rgba(0, 128, 0, 0.876)\";\r\nlet users = [];\r\nlet passwords = [];\r\nlet names = [];\r\n\r\nlet registrationForm = document.querySelector(\".registration__form\");\r\nregistrationForm.addEventListener(\"submit\", function(event) {\r\n    event.preventDefault();\r\n    checkInput();\r\n    });\r\n\r\n// ВЫВОД ОШИБКИ НА НЕЗАПОЛНЕННОЕ ПОЛЕ\r\nfunction setErrorMessage(input, msg) {\r\n    document.querySelector(input).style.color = ERRORCOLOR;\r\n    document.querySelector(msg).innerHTML = IMPORTANTMESSAGE;\r\n}\r\n\r\n// ПРОВЕРКА НА НЕЗАПОЛНЕННОЕ ПОЛЕ \r\nfunction isFieldEmpty(field) {\r\n    let inputField = document.querySelector(field).value;\r\n    if (inputField === '') {\r\n        return true;\r\n    }\r\n}\r\n\r\n// ПРОВЕРКА ЗАПОЛНЕННОСТИ ПОЛЕЙ\r\nfunction checkInput() {\r\n    if (isFieldEmpty(\".input1\")) {\r\n        setErrorMessage('.surname', '.mandatory1');\r\n    }\r\n    if (isFieldEmpty(\".input2\")) {\r\n        setErrorMessage('.name', '.mandatory2');\r\n    }\r\n    if (isFieldEmpty(\".input3\")) {\r\n        setErrorMessage('.email', '.mandatory3');\r\n    }\r\n    if (isFieldEmpty(\".input4\")) {\r\n        setErrorMessage('.password1', '.mandatory4');\r\n    }\r\n    if (isFieldEmpty(\".input5\")) {\r\n        setErrorMessage('.password2', '.mandatory5');\r\n    }\r\n\r\n    if ((isPasswordValid() === true) && (isInputValid(FIOCHECK, inputSurname) === true) && (isInputValid(FIOCHECK, inputName) === true) && (isInputValid(EMAILCHECK, inputEmail) === true) && (isInputValid(PASSWORDCHECK, inputPassword1) === true) && (isInputValid(PASSWORDCHECK, inputPassword2) === true) && (isEmailUsed() === false)) {\r\n        let userName = document.querySelector(\".input2\").value;\r\n        let userEmail = document.querySelector(\".input3\").value;\r\n        let userPassword = document.querySelector(\".input4\").value;\r\n        let names = JSON.parse(localStorage.getItem('usernames') || '[]');\r\n        let users = JSON.parse(localStorage.getItem('useremails') || '[]');\r\n        let passwords = JSON.parse(localStorage.getItem('userpasswords') || '[]');\r\n        names.push(userName);\r\n        users.push(userEmail);\r\n        passwords.push(userPassword);\r\n        localStorage.setItem(\"usernames\", JSON.stringify(names));\r\n        localStorage.setItem(\"useremails\", JSON.stringify(users));\r\n        localStorage.setItem(\"userpasswords\", JSON.stringify(passwords));\r\n        window.location.href = \"../index.html\";\r\n    } \r\n}\r\n\r\n// ПРОВЕРКА НА ВВОД ОБЯЗАТЕЛЬНЫХ ПОЛЕЙ\r\nfunction provideInput(input, clear) {\r\n    document.querySelector(input).style.color = CORRECTCOLOR;\r\n    document.querySelector(clear).innerHTML = \"\";\r\n}\r\n\r\nconst FIOCHECK = /^[a-zA-Zа-яА-ЯЁё]{2,20}$/;\r\n\r\nlet inputSurname = document.querySelector('.input1');\r\ninputSurname.addEventListener(\"keyup\", function() {\r\n    provideInput('.surname', '.mandatory1');\r\n    isInputValid(FIOCHECK, inputSurname, '.surname', '.mandatory1', INCORRECTLANG);\r\n});\r\n\r\nlet inputName = document.querySelector('.input2');\r\ninputName.addEventListener(\"keyup\", function() {\r\n    provideInput('.name', '.mandatory2');\r\n    isInputValid(FIOCHECK, inputName, '.name', '.mandatory2', INCORRECTLANG);\r\n});\r\n\r\nconst EMAILCHECK = /^([\\w\\d._\\-#])+@([\\w\\d._\\-#]+[.][\\w\\d._\\-#]+)$/i;\r\n\r\nlet inputEmail = document.querySelector('.input3');\r\ninputEmail.addEventListener(\"keyup\", function() {\r\n    provideInput('.email', '.mandatory3');\r\n    isInputValid(EMAILCHECK, inputEmail, '.email', '.mandatory3', INCORRECTLANG);\r\n});\r\n\r\nconst PASSWORDCHECK = /^(?=.*\\d)(?=.*[a-z])(?=.*[!^@%=<>+#_$&*])(?=.*[A-Z])(?=(.*[a-zA-Z]){4}).{8,20}$/;\r\n\r\nlet inputPassword1 = document.querySelector('.input4');\r\ninputPassword1.addEventListener(\"keyup\", function() {\r\n    provideInput('.password1', '.mandatory4');\r\n    isInputValid(PASSWORDCHECK, inputPassword1, '.password1', '.mandatory4', INCORRECTPASSWORD);\r\n});\r\n\r\nlet inputPassword2 = document.querySelector('.input5');\r\ninputPassword2.addEventListener(\"keyup\", function() {\r\n    provideInput('.password2', '.mandatory5');\r\n    isInputValid(PASSWORDCHECK, inputPassword2, '.password2', '.mandatory5', INCORRECTPASSWORD);\r\n});\r\n\r\ninputPassword2.addEventListener(\"keyup\", isPasswordValid);\r\n\r\nconst QUESTION_REPLYCHECK = /^[?!,.a-zA-Zа-яА-ЯёЁ0-9\\s]{5,50}$/;\r\n\r\nlet inputQuestion = document.querySelector('.question');\r\ninputQuestion.addEventListener(\"keyup\", function() {\r\n    provideInput('.security-question', '.optional1');\r\n    isInputValid(QUESTION_REPLYCHECK, inputQuestion, '.security-question', '.optional1', QUESTION_REPLY);\r\n});\r\n\r\nlet inputReply = document.querySelector('.answer');\r\ninputReply.addEventListener(\"keyup\", function() {\r\n    provideInput('.security-answer', '.optional2');\r\n    isInputValid(QUESTION_REPLYCHECK, inputReply, '.security-answer', '.optional2', QUESTION_REPLY);\r\n});\r\n\r\n// ПРОВЕРКА НА СОВПАДЕНИЕ ПАРОЛЕЙ \r\nfunction isPasswordValid() {\r\n    if (inputPassword1.value !== inputPassword2.value) {\r\n        document.querySelector('.mandatory5').innerHTML = \"Password does not match\"; \r\n    }\r\n    else { \r\n        document.querySelector('.mandatory5').innerHTML = \"\";\r\n        return true;\r\n    }\r\n}   \r\n\r\n// ВАЛИДАЦИЯ ПОЛЯ \r\nfunction isInputValid(regex, input, labelcolor, message, error) {\r\n    if (regex.test(input.value) === false) {\r\n        document.querySelector(labelcolor).style.color = ERRORCOLOR;\r\n        document.querySelector(message).innerHTML = error;\r\n    }\r\n    else {\r\n        return true;\r\n    }\r\n}\r\n\r\n// ПРОВЕРКА НА УЖЕ СУЩЕСТВУЮЩИЙ EMAIL\r\nfunction isEmailUsed() {\r\n    if (document.querySelector('.mandatory3').textContent !== \"\") {\r\n        document.querySelector('.mandatory3').textContent = \"\";\r\n    }\r\n    users = JSON.parse(localStorage.getItem('useremails') || '[]');\r\n    let userEmail = document.querySelector(\".input3\").value;\r\n    for (let i = 0; i < users.length; i++) {\r\n        if (userEmail === users[i]) {\r\n            let div = document.createElement(\"div\");\r\n            document.querySelector(\".mandatory3\").append(div);\r\n            div.textContent = \"User with the same email already exists\";\r\n            div.style.color = ERRORCOLOR;\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};"],"names":["$6ed12d06f0c1b35b$var$INCORRECTPASSWORD","$6ed12d06f0c1b35b$var$users","$6ed12d06f0c1b35b$var$setErrorMessage","input","msg","document","querySelector","style","color","innerHTML","$6ed12d06f0c1b35b$var$isFieldEmpty","field","value","$6ed12d06f0c1b35b$var$provideInput","clear","addEventListener","event","preventDefault","$6ed12d06f0c1b35b$var$isPasswordValid","$6ed12d06f0c1b35b$var$isInputValid","$6ed12d06f0c1b35b$var$FIOCHECK","$6ed12d06f0c1b35b$var$inputSurname","$6ed12d06f0c1b35b$var$inputName","$6ed12d06f0c1b35b$var$EMAILCHECK","$6ed12d06f0c1b35b$var$inputEmail","$6ed12d06f0c1b35b$var$PASSWORDCHECK","$6ed12d06f0c1b35b$var$inputPassword1","$6ed12d06f0c1b35b$var$inputPassword2","textContent","JSON","parse","localStorage","getItem","userEmail","i","length","div","createElement","append","$6ed12d06f0c1b35b$var$isEmailUsed","userName","userPassword","names","users","passwords","push","setItem","stringify","window","location","href","$6ed12d06f0c1b35b$var$checkInput","$6ed12d06f0c1b35b$var$QUESTION_REPLYCHECK","$6ed12d06f0c1b35b$var$inputQuestion","$6ed12d06f0c1b35b$var$inputReply","regex","labelcolor","message","error","test"],"version":3,"file":"registration.acb48fc9.js.map"}